(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,t,a){e.exports=a(411)},411:function(e,t,a){"use strict";a.r(t);var n=a(27),o=a.n(n),r=a(8),i=a(16),s=a(19),l=a(18),c=a(20),m=a(17),u=a(0),p=a.n(u),d=a(61),h=a.n(d),g=a(84),f=a.n(g),w=a(37),b=a.n(w),E=a(26),S=a.n(E),v=a(10),O=a.n(v),j=a(53),y=a.n(j),C=a(43),k=a.n(C),_=a(65),x=a.n(_),N=a(60),T=a(13),R=a(167),I=a.n(R),L=a(168),F=a.n(L),P=a(166),M=a.n(P),U=a(169),B=a.n(U),$=a(9),A=a(412),W=a(413),D=(a(236),[{id:1,name:"home",link:"/"},{id:2,name:"register",link:"/register"}]),z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null,mobileMoreAnchorEl:null,menuAnchorEl:null},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.closeAllMenues=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.handleMenuOpen=function(e){a.setState({menuAnchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({menuAnchorEl:null})},a.logout=function(){a.props.rootStore.loginStore.logout()},a.search=function(e){"Enter"===e.key&&(a.props.history.location.pathname.startsWith("/searchResult")?a.props.rootStore.searchStore.search():a.props.history.push("/searchResult"))},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.anchorEl,n=t.mobileMoreAnchorEl,o=t.menuAnchorEl,r=this.props.classes,i=Boolean(a),s=Boolean(n),l=Boolean(o),c=p.a.createElement(x.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.closeAllMenues},p.a.createElement(k.a,null,p.a.createElement(A.a,{to:"/profile/".concat(this.props.rootStore.profileStore.id)},"Profile")),p.a.createElement(k.a,{onClick:this.logout},"Logout")),m=p.a.createElement(x.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleMenuClose},D.map(function(e){return p.a.createElement(k.a,{component:A.a,key:e.id.toString(),to:e.link},e.name)})),u=p.a.createElement(x.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:this.closeAllMenues},p.a.createElement(k.a,{onClick:this.handleMobileMenuClose}),p.a.createElement(k.a,{onClick:this.handleMobileMenuClose}),p.a.createElement(k.a,{onClick:this.handleProfileMenuOpen},p.a.createElement(b.a,{color:"inherit"},p.a.createElement(M.a,null)),p.a.createElement("p",null,"Profile")));return p.a.createElement("div",{className:r.root},p.a.createElement(h.a,{position:"static"},p.a.createElement(f.a,null,p.a.createElement(b.a,{onClick:this.handleMenuOpen,className:r.menuButton,color:"inherit","aria-label":"Open drawer"},p.a.createElement(I.a,null)),p.a.createElement(O.a,{className:r.title,variant:"h6",color:"inherit",noWrap:!0},"Nano-Twitter"),p.a.createElement("div",{className:r.search},p.a.createElement("div",{className:r.searchIcon},p.a.createElement(F.a,null)),p.a.createElement(y.a,{placeholder:"Search\u2026",classes:{root:r.inputRoot,input:r.inputInput},value:this.props.rootStore.searchStore.searchTerm,onChange:function(t){e.props.rootStore.searchStore.changeSearchTerm(t.target.value)},onKeyDown:this.search})),p.a.createElement("div",{className:r.grow}),p.a.createElement("div",{className:r.sectionDesktop},p.a.createElement(b.a,{"aria-owns":i?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},p.a.createElement(S.a,{className:this.props.classes.avatar},this.props.rootStore.profileStore.username.toUpperCase()[0]))),p.a.createElement("div",{className:r.sectionMobile},p.a.createElement(b.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},p.a.createElement(B.a,null))))),m,c,u)}}]),t}(p.a.Component),J=Object(W.a)(Object(T.withStyles)(function(e){return Object(T.createStyles)({root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(m.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(N.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(N.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(m.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.light}})})(Object($.b)("rootStore")(Object($.c)(z)))),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var X=a(3),V={ip:"",timeout:3e4},G=a(171),K=a.n(G),Q=a(44),Y=a.n(Q),Z=K.a.create({baseURL:V.ip,timeout:V.timeout,headers:{HTTP_X_REQUESTED_WITH:"XMLHttpRequest"}}),ee={signin:function(e){return Z.post("/users/signin",Y.a.stringify(e))},signup:function(e){return Z.post("/users/signup",Y.a.stringify(e))},signout:function(e){return Z.delete("/users/signout",Y.a.stringify(e))},homeTimeline:function(e){return Z.get("/tweets/recent",e)},getProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===e&&(e=JSON.parse(localStorage.getItem("user"))._id.$oid),Z.get("/users/".concat(e))},follow:function(e,t){return Z.post("/follows/".concat(e),Y.a.stringify(t))},unfollow:function(e,t){return Z.delete("/follows/".concat(e),t)},like:function(e,t){return Z.post("/tweets/".concat(e,"/likes"),Y.a.stringify(t))},unlike:function(e,t){return Z.delete("/tweets/".concat(e,"/likes"),Y.a.stringify(t))},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Z.get("/users/".concat(e))},followers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Z.get("/followers/list/".concat(e),{params:t})},followees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Z.get("/followees/list/".concat(e),{params:t})},addComment:function(e){return Z.post("/tweets/".concat(e.tweet_id,"/comments"),Y.a.stringify(e))},getComments:function(e){return Z.get("/tweets/".concat(e,"/comments"))},addTweet:function(e){return Z.post("/tweets",Y.a.stringify(e))},userTimeline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Z.get("/tweets/users/".concat(e),{params:t})},whoToFollow:function(e){return Z.get("/users_recommend",{params:e})},search:function(e){return Z.get("/search",{params:e})}},te=function e(){var t=this;Object(r.a)(this,e),this.changeUsername=function(e){t.username=e},this.changePassword=function(e){t.password=e},this.changeEmail=function(e){t.email=e},this.login=function(){var e={password:t.password,email:t.email};return ee.signin(e).then(function(e){localStorage.setItem("user",JSON.stringify(e.data.data)),localStorage.setItem("isLoggedIn",!0),window.location="/home"}).catch(function(e){alert(e.response.data.message)})},this.logout=function(){return ee.signout({}).then(function(e){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),t.isLoggedIn=!1,window.location="/login"}).catch(function(e){alert(e.response.data.message)})},this.register=function(){var e={name:t.username,password:t.password,email:t.email};return ee.signup(e).then(function(e){alert(e.data.message),window.location="/login"}).catch(function(e){alert(e.response.data.message)})},this.password="",this.email="",this.username="",this.isLoggedIn=localStorage.getItem("isLoggedIn")};Object(X.g)(te,{username:X.l,email:X.l,password:X.l,isLoggedIn:X.l,changeUsername:X.d,authenticate:X.d,changePassword:X.d,changeEmail:X.d,register:X.d,login:X.d,logout:X.d});var ae=new te,ne=function(){function e(){var t=this;Object(r.a)(this,e),this.username="",this.nickname="",this.email="",this.tweets="",this.following="",this.follower="",this.following_list={},this.id="",this.loadProfile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ee.getProfile(e).then(function(e){var a=e.data.data;t.username=a.name,t.nickname=a.name,t.email=a.email,t.tweets=a.tweets_count,t.follower=a.follower_ids.length,t.following=a.following_ids.length,t.id=a._id.$oid,console.log(a.following_ids),t.setFollowingList(a),console.log(t.following_list)}).catch(function(e){console.log(e)})},this.addTweet=function(){t.tweets+=1}}return Object(i.a)(e,[{key:"setFollowingList",value:function(e){var t={};0!==e.following_ids.length&&e.following_ids.forEach(function(e){t[e]=!0}),this.following_list=t}}]),e}();Object(X.g)(ne,{username:X.l,nickname:X.l,email:X.l,password:X.l,tweets:X.l,following:X.l,follower:X.l,following_list:X.l,id:X.l,changeUsername:X.d,changeFollower:X.d,addFollowing:X.d,deleteFollowing:X.d,addTweet:X.d,changeEmail:X.d,getProfile:X.d,setFollowingList:X.d});var oe=new ne,re=a(174),ie=function e(){var t=this;Object(r.a)(this,e),this.timeline=[],this.isLoading=!1,this.loadTimeline=function(){t.isLoading=!0;var e={params:{user_id:JSON.parse(localStorage.getItem("user"))._id.$oid,start:0,count:10}};return ee.homeTimeline(e).then(function(e){var a;console.log(e.data.data),(a=t.timeline).push.apply(a,Object(re.a)(e.data.data))}).catch(function(e){console.log(e)}).then(function(){t.isLoading=!1})},this.addTimeline=function(e){t.timeline.unshift(e),oe.addTweet()},this.getTimeline=function(){return t.timeline.slice()}};Object(X.g)(ie,{timeline:X.l,isLoading:X.l,loadTimeline:X.d});var se=new ie,le=function e(){var t=this;Object(r.a)(this,e),this.tweet="",this.imageUrl="",this.content="",this.tweet_id="",this.comments={},this.tweetCounts={},this.changeComment=function(e){t.content=e},this.changeTweetId=function(e){t.tweet_id=e},this.addComment=function(){var e={user_id:JSON.parse(localStorage.getItem("user"))._id.$oid,content:t.content,tweet_id:t.tweet_id};return ee.addComment(e).then(function(e){return t.content="",t.getComments(t.tweet_id)}).catch(function(e){alert(e.message.response.data.message)})},this.clearCommentBlock=function(){t.content=""},this.getComments=function(e){if(e)return ee.getComments(e).then(function(a){t.comments[e]=a.data.data}).catch(function(e){alert(e.message.response.data.message)})},this.changeTweet=function(e){t.tweet=e},this.changeParentId=function(e){t.parent_id=e},this.submit=function(e){var a={user_id:JSON.parse(localStorage.getItem("user"))._id.$oid,parent_id:t.parent_id,content:t.tweet,image_url:t.imageUrl};return ee.addTweet(a).then(function(a){e&&(t.tweetCounts[e._id.$oid]=e.retweet_count+1),t.tweet="",t.parent_id=void 0,t.imageUrl="",se.addTimeline(a.data.data),oe.loadProfile()}).catch(function(e){alert(e.response.data.message)})},this.like=function(e){var a={user_id:JSON.parse(localStorage.getItem("user"))._id.$oid};return ee.like(e,a).then(function(e){t.likes++})},this.repost=function(){var e={user_id:JSON.parse(localStorage.getItem("user"))._id.$oid,content:t.tweet,parent_id:t.parent_id};return ee.addTweet(e).then(function(e){alert(e.data.message),t.tweet="",se.addTimeline(e.data.data),oe.loadProfile()}).catch(function(e){alert(e.response.data.message)})}};Object(X.g)(le,{tweet:X.l,imageUrl:X.l,tweet_id:X.l,comments:X.l,content:X.l,tweetCounts:X.l,changeTweet:X.d,changeParentId:X.d,changeComment:X.d,changeTweetId:X.d});var ce=new le,me=function e(t){var a=this;Object(r.a)(this,e),this.recom=[],this.current_user=JSON.parse(localStorage.getItem("user")),this.loadRecom=function(){var e={params:{user_id:JSON.parse(localStorage.getItem("user"))._id.$oid,num:5}};return ee.whoToFollow(e).then(function(e){a.recom=e.data.data;var t=!0,n=!1,o=void 0;try{for(var r,i=a.recom[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;a.current_user.following_ids.includes(s._id.$oid)?a.rootStore.followStore.setFollowRelation(s._id.$oid,!0):a.rootStore.followStore.setFollowRelation(s._id.$oid,!1)}}catch(l){n=!0,o=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}})},this.getRecom=function(){return a.recom.slice()},this.rootStore=t};Object(X.g)(me,{recom:X.l,loadRecom:X.d});var ue=me,pe=a(73),de=function(){function e(t){var a=this;Object(r.a)(this,e),this.current_user=JSON.parse(localStorage.getItem("user")),this.follow_relation={},this.follow=function(e){var t={user_id:a.current_user._id.$oid};return ee.follow(e,t).then(function(){oe.loadProfile().then(function(){a.follow_relation=Object(pe.a)({},oe.following_list),console.log(a.follow_relation)})}).catch(function(e){console.log(e)})},this.unfollow=function(e){var t={params:{user_id:a.current_user._id.$oid}};return ee.unfollow(e,t).then(function(){a.follow_relation[e]=!1,oe.loadProfile().then(function(){console.log(Object(pe.a)({},oe.following_list)),a.follow_relation=Object(pe.a)({},oe.following_list)})}).catch(function(e){console.log(e)})},this.rootStore=t}return Object(i.a)(e,[{key:"loadFollowRelation",value:function(){var e=this;oe.loadProfile().then(function(){e.follow_relation=Object(pe.a)({},oe.following_list),console.log(e.follow_relation)})}},{key:"getFollowRelation",value:function(){return this.follow_relation}},{key:"setFollowRelation",value:function(e,t){this.follow_relation[e]=t}}]),e}();Object(X.g)(de,{follow_relation:X.l,getFollowRelation:X.d,setFollowRelation:X.d,follow:X.d,unfollow:X.d});var he=de,ge=function e(){var t=this;Object(r.a)(this,e),this.results=[],this.searchTerm="",this.changeSearchTerm=function(e){console.log("being changed",e),t.searchTerm=e},this.search=function(){ee.search({content:t.searchTerm}).then(function(e){t.results=e.data.data})}};Object(X.g)(ge,{results:X.l,searchTerm:X.l,changeSearchTerm:X.d,search:X.d});var fe=ge,we=function e(){var t=this;Object(r.a)(this,e),this.username="",this.nickname="",this.email="",this.tweets="",this.following="",this.follower="",this.isLoading=!1,this.tweetList=[],this.followers=[],this.followings=[],this.loadProfile=function(e){return t.isLoading=!0,ee.getProfile(e).then(function(e){var a=e.data.data;t.username=a.name,t.nickname=a.name,t.email=a.email,t.tweets=a.tweets_count,t.follower=a.follower_ids.length,t.following=a.following_ids.length}).catch(function(e){console.log(e)}).then(function(){t.isLoading=!1})},this.getTweet=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ee.userTimeline(e,a).then(function(e){t.tweetList=e.data.data})},this.getFollowers=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ee.followers(e).then(function(e){t.followers=e.data.data})},this.getFollowings=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ee.followees(e).then(function(e){t.followings=e.data.data})}};Object(X.g)(we,{username:X.l,nickname:X.l,email:X.l,password:X.l,tweets:X.l,following:X.l,follower:X.l,followers:X.l,followings:X.l,tweetList:X.l,changeUsername:X.d,changeFollower:X.d,addFollowing:X.d,deleteFollowing:X.d,addTweet:X.d,changeEmail:X.d,getProfile:X.d,getTweet:X.d,getFollowings:X.d,getFollowers:X.d});var be=new we,Ee=new function e(){Object(r.a)(this,e),this.loginStore=ae,this.profileStore=oe,this.tweetStore=ce,this.timelineStore=se,this.recomStore=new ue(this),this.followStore=new he(this),this.searchStore=new fe(this),this.userStore=be},Se=a(34),ve=a.n(Se),Oe=a(50),je=a.n(Oe),ye=a(31),Ce=a.n(ye),ke=a(39),_e=a.n(ke),xe=a(33),Ne=a.n(xe),Te=a(11),Re=a.n(Te),Ie=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.rootStore.profileStore.loadProfile()}},{key:"render",value:function(){return p.a.createElement(ve.a,{className:this.props.classes.card},p.a.createElement(je.a,null,p.a.createElement(_e.a,{className:this.props.classes.media,image:"",title:"Contemplative Reptile"}),p.a.createElement(Ce.a,null,p.a.createElement(Re.a,{container:!0,spacing:0},p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(S.a,{className:this.props.classes.bigAvatar},this.props.rootStore.profileStore.username.toUpperCase()[0])),p.a.createElement(Re.a,{item:!0,xs:8,md:8,lg:8},p.a.createElement(O.a,{variant:"title"},this.props.rootStore.profileStore.username),p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"@"," ",this.props.rootStore.profileStore.nickname))),p.a.createElement(Re.a,{container:!0,spacing:8,className:this.props.classes.infobox},p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Tweets"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.profileStore.tweets)),p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Followers"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.profileStore.follower)),p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Following"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.profileStore.following))))))}}]),t}(u.Component),Le=Object(T.withStyles)(function(e){return{main:{width:"auto",paddingTop:2*e.spacing.unit},card:{},media:{height:110,backgroundColor:Ne.a[500]},bigAvatar:{marginTop:-53,width:75,height:75,border:"3px solid #ffffff",fontSize:40},infobox:{marginTop:10},link:{color:Ne.a[400]}}})(Object($.b)("rootStore")(Object($.c)(Ie))),Fe=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},"TrendsForYou")}}]),t}(u.Component),Pe=Object(T.withStyles)(function(e){var t;return{main:(t={width:"auto",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},Object(m.a)(t,e.breakpoints.up(1100+3*e.spacing.unit*2),{width:1100,marginLeft:"auto",marginRight:"auto"}),Object(m.a)(t,"paddingTop",2*e.spacing.unit),t)}})(Object($.b)("rootStore")(Object($.c)(Fe))),Me=a(28),Ue=a.n(Me),Be=a(54),$e=a.n(Be),Ae=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).changeTweet=function(e){a.props.rootStore.tweetStore.changeTweet(e.target.value)},a.submit=function(e){a.props.rootStore.tweetStore.submit()},a.handleUpdate=function(e){var t=e.target,n=new FileReader;n.readAsDataURL(t.files[0]),n.onload=function(e){a.props.rootStore.tweetStore.imageUrl=e.target.result}},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return p.a.createElement(ve.a,{className:e.card},p.a.createElement(Ce.a,{className:e.cardContent},p.a.createElement(Re.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},p.a.createElement(Re.a,{item:!0},p.a.createElement(S.a,{className:e.avatar},this.props.rootStore.profileStore.username.toUpperCase()[0])),p.a.createElement(Re.a,{item:!0,xs:!0},p.a.createElement(Re.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch"},p.a.createElement(Re.a,{item:!0},p.a.createElement($e.a,{onChange:this.changeTweet,className:e.margin,InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},value:this.props.rootStore.tweetStore.tweet,label:"Say something...",variant:"outlined",id:"custom-css-outlined-input",margin:"normal",fullWidth:!0,multiline:!0,rows:"4"})),p.a.createElement(Re.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},p.a.createElement(Re.a,{item:!0},this.props.rootStore.tweetStore.imageUrl?p.a.createElement("div",null,p.a.createElement("img",{className:e.uploadImage,src:this.props.rootStore.tweetStore.imageUrl})):"",p.a.createElement("input",{accept:"image/*",className:e.input,style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:this.handleUpdate}),p.a.createElement("label",{htmlFor:"raised-button-file"},p.a.createElement(Ue.a,{variant:"raised",component:"span",className:e.button},"Upload Picture"))),p.a.createElement(Re.a,{item:!0},p.a.createElement(Ue.a,{variant:"contained",color:"primary",className:e.button,onClick:this.submit},"Tweet"))))))))}}]),t}(u.Component),We=Object(T.withStyles)(function(e){return{card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},root:{display:"flex",flexWrap:"wrap",paddingRight:3*e.spacing.unit},margin:{margin:e.spacing.unit},cssLabel:{"&$cssFocused":{color:Ne.a[500]}},cssFocused:{},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:Ne.a[500]},minHeight:100,borderRadius:10},notchedOutline:{borderRadius:10},avatar:{margin:10},bigAvatar:{margin:10,width:60,height:60},button:{margin:e.spacing.unit},input:{display:"none"},cardContent:{marginBottom:0,padding:15,paddingBottom:"15px!important"},uploadImage:{width:"100%"}}})(Object($.b)("rootStore")(Object($.c)(Ae))),De=a(6),ze=a.n(De),Je=a(62),He=a.n(Je),qe=a(85),Xe=a.n(qe),Ve=a(86),Ge=a.n(Ve),Ke=a(172),Qe=a.n(Ke),Ye=a(173),Ze=a.n(Ye),et=a(69),tt=a.n(et),at=a(72),nt=a.n(at),ot=a(71),rt=a.n(ot),it=a(70),st=a.n(it),lt=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.comment,t=this.props.classes;return p.a.createElement(ve.a,{className:t.card},p.a.createElement(He.a,{avatar:p.a.createElement(S.a,{"aria-label":"Recipe",className:t.avatar},e.username.toUpperCase()[0]),title:e.username}),p.a.createElement(Ce.a,null,p.a.createElement(O.a,{component:"p"},e.content)))}}]),t}(u.Component),ct=Object(T.withStyles)(function(e){return{card:{maxWidth:590,marginBottom:5},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},avatar:{backgroundColor:Ne.a[500]}}})(Object($.b)("rootStore")(Object($.c)(lt))),mt=a(124),ut=a.n(mt),pt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={expanded:!1,commentOpen:!1,retweetOpen:!1},a.handleClickUserName=function(e){var t="/profile/".concat(e);a.props.history.location.pathname.startsWith(t)||a.props.history.push(t)},a.changeTweet=function(e){a.props.rootStore.tweetStore.changeTweet(e.target.value)},a.changeComment=function(e){a.props.rootStore.tweetStore.changeComment(e.target.value)},a.addCommment=function(e){a.props.rootStore.tweetStore.addComment().then(function(){a.handleCloseComment()})},a.handleClickOpenComment=function(){a.setState({commentOpen:!0}),a.props.rootStore.tweetStore.changeTweetId(a.props.post._id.$oid)},a.handleClickOpenRetweet=function(){a.setState({retweetOpen:!0}),a.props.rootStore.tweetStore.changeParentId(a.props.post._id.$oid)},a.handleCloseComment=function(){a.props.rootStore.tweetStore.clearCommentBlock(),a.setState({commentOpen:!1})},a.handleCloseRetweet=function(){a.setState({retweetOpen:!1})},a.handleSendRetweet=function(){a.setState({retweetOpen:!1}),a.props.rootStore.tweetStore.submit(a.props.post)},a.handleExpandClick=function(){a.props.rootStore.tweetStore.getComments(a.props.post._id.$oid),a.componentDidMount(),a.setState(function(e){return{expanded:!e.expanded}})},a.isRetweet=function(e){if(e.parent_id)return p.a.createElement(Re.a,{container:!0,alignItems:"flex-start"},p.a.createElement(Re.a,{item:!0,className:a.props.grid},p.a.createElement(ut.a,{className:a.props.icon,style:{fontSize:13.3}})))},a.followStatus=function(e){if(e.user_id.$oid!==JSON.parse(localStorage.getItem("user"))._id.$oid)return a.props.rootStore.followStore.follow_relation[e.user_id.$oid]?p.a.createElement(Ue.a,{onClick:function(){a.props.rootStore.followStore.unfollow(e.user_id.$oid)},size:"small",variant:"outlined",color:"secondary"},"unfollow"):p.a.createElement(Ue.a,{onClick:function(){a.props.rootStore.followStore.follow(e.user_id.$oid)},size:"small",variant:"outlined",color:"primary"},"follow")},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.post,a=this.props.classes;return p.a.createElement("main",{className:a.main},p.a.createElement(ve.a,{className:a.card},p.a.createElement(He.a,{avatar:p.a.createElement(S.a,{alt:t.user_attr.name,className:this.props.classes.avatar,onClick:function(){e.handleClickUserName(t.user_attr.id)}},t.user_attr.name.toUpperCase()[0]),action:this.followStatus(t),title:p.a.createElement(O.a,{className:this.props.classes.userName,onClick:function(){e.handleClickUserName(t.user_attr.id)},variant:"body2"},t.user_attr.name," "," "),subheader:new Date(t.created_at).toLocaleDateString()}),t.image_url?p.a.createElement(_e.a,{className:a.media,image:t.image_url,title:"Paella dish"}):"",p.a.createElement(Ce.a,null,p.a.createElement(O.a,{component:"p"},t.content)),p.a.createElement(Xe.a,{className:a.actions,disableActionSpacing:!0},p.a.createElement(b.a,{"aria-label":"Retweet",onClick:this.handleClickOpenRetweet},p.a.createElement(ut.a,null),p.a.createElement(O.a,{variant:"caption"},this.props.rootStore.tweetStore.tweetCounts[t._id.$oid]||t.retweet_count)),p.a.createElement(b.a,{"aria-label":"Comment",onClick:this.handleClickOpenComment},p.a.createElement(Qe.a,null),p.a.createElement(O.a,{variant:"caption"},(this.props.rootStore.tweetStore.comments[t._id.$oid]||[]).length||t.comments_count)),p.a.createElement(b.a,{className:ze()(a.expand,Object(m.a)({},a.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},p.a.createElement(Ze.a,null))),p.a.createElement(Ge.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},p.a.createElement(Ce.a,null,(this.props.rootStore.tweetStore.comments[t._id.$oid]||[]).map(function(e){return p.a.createElement(ct,{key:e._id.$oid,comment:e})})))),p.a.createElement(tt.a,{open:this.state.commentOpen,onClose:this.handleCloseComment,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs"},p.a.createElement(st.a,{id:"alert-dialog-title"},"Comment"),p.a.createElement(rt.a,null,p.a.createElement($e.a,{onChange:this.changeComment,className:a.margin,InputLabelProps:{classes:{root:a.cssLabel,focused:a.cssFocused}},InputProps:{classes:{root:a.cssOutlinedInput,focused:a.cssFocused,notchedOutline:a.notchedOutline}},value:this.props.rootStore.tweetStore.content,autoFocus:!0,label:"Say something...",variant:"outlined",id:"custom-css-outlined-input",margin:"normal",fullWidth:!0,multiline:!0,rows:"4"})),p.a.createElement(nt.a,null,p.a.createElement(Ue.a,{onClick:this.handleCloseComment,color:"secondary"},"Cancel"),p.a.createElement(Ue.a,{onClick:this.addCommment,color:"primary",autoFocus:!0},"Comment"))),p.a.createElement(tt.a,{open:this.state.retweetOpen,onClose:this.handleCloseRetweet,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs"},p.a.createElement(st.a,{id:"alert-dialog-title"},"Retweet"),p.a.createElement(rt.a,null,p.a.createElement($e.a,{onChange:this.changeTweet,className:a.margin,InputLabelProps:{classes:{root:a.cssLabel,focused:a.cssFocused}},InputProps:{classes:{root:a.cssOutlinedInput,focused:a.cssFocused,notchedOutline:a.notchedOutline}},value:this.props.rootStore.tweetStore.tweet,autoFocus:!0,label:"Say something...",variant:"outlined",id:"custom-css-outlined-input",margin:"normal",fullWidth:!0,multiline:!0,rows:"4"})),p.a.createElement(nt.a,null,p.a.createElement(Ue.a,{onClick:this.handleCloseRetweet,color:"secondary"},"Cancel"),p.a.createElement(Ue.a,{onClick:this.handleSendRetweet,color:"primary",autoFocus:!0},"Retweet"))))}}]),t}(u.Component),dt=Object(W.a)(Object(T.withStyles)(function(e){return{main:{width:"auto",paddingTop:2*e.spacing.unit},card:{maxWidth:590},cardMain:{padding:15,paddingBottom:5},cardHeader:{padding:15,paddingTop:0,paddingBottom:0},cardContent:{padding:10,paddingLeft:15,paddingRight:15},icon:{color:e.palette.primary.light},grid:{padding:0},userName:{cursor:"pointer"},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:e.palette.primary.light,cursor:"pointer"},margin:{paddingBottom:"0px!important"}}})(Object($.b)("rootStore")(Object($.c)(pt)))),ht=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.rootStore.timelineStore.loadTimeline()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props.rootStore.timelineStore.getTimeline();return p.a.createElement("main",{className:this.props.classes.main},e.map(function(e){return p.a.createElement(dt,{key:e._id.$oid,post:e})}))}}]),t}(u.Component),gt=Object(T.withStyles)(function(e){return{main:{width:"auto",paddingTop:2*e.spacing.unit}}})(Object($.b)("rootStore")(Object($.c)(ht))),ft=a(63),wt=a.n(ft),bt=a(93),Et=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a=this;return p.a.createElement(ve.a,{className:this.props.classes.card},p.a.createElement(je.a,null,p.a.createElement(_e.a,{className:this.props.classes.media,image:"",title:"Contemplative Reptile"}),p.a.createElement(Ce.a,null,p.a.createElement(Re.a,{container:!0,spacing:10},p.a.createElement(Re.a,{item:!0,xs:8,md:8,lg:8},p.a.createElement(S.a,Object(m.a)({alt:this.props.username,className:this.props.classes.avatar},"className",this.props.classes.userName),this.props.username.toUpperCase()[0])),p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},this.props.id?this.props.rootStore.followStore.follow_relation[this.props.id]?p.a.createElement(bt.a,(e={variant:"outlined",size:"small",color:"secondary","aria-label":"Add",className:this.props.margin,onClick:function(){a.props.rootStore.followStore.unfollow(a.props.id),a.forceUpdate()}},Object(m.a)(e,"size","small"),Object(m.a)(e,"variant","outlined"),Object(m.a)(e,"color","secondary"),e),"unfollow"):p.a.createElement(bt.a,(t={variant:"outlined",size:"small",color:"primary","aria-label":"Add",className:this.props.margin,onClick:function(){a.props.rootStore.followStore.follow(a.props.id),a.forceUpdate()}},Object(m.a)(t,"size","small"),Object(m.a)(t,"variant","outlined"),Object(m.a)(t,"color","primary"),t),"follow"):""),p.a.createElement(Re.a,{item:!0,xs:12,md:12,lg:12,className:this.props.classes.names},p.a.createElement(O.a,{variant:"title",className:this.props.classes.username},this.props.username),p.a.createElement(O.a,{gutterBottom:!0,variant:"caption",className:this.props.classes.atname},"@",this.props.nickName||"nickNameHahah"))),p.a.createElement(Re.a,{container:!0,spacing:12,className:this.props.classes.profile},p.a.createElement(O.a,{color:"textPrimary"},"A short introduction of this person, if there is one.",p.a.createElement(wt.a,null,"#ProductManager #Microsoft #TechAndArt"))))))}}]),t}(u.Component),St=Object(T.withStyles)(function(e){return{main:{width:"auto",paddingTop:2*e.spacing.unit},margin:{margin:e.spacing.unit},extendedIcon:{marginRight:e.spacing.unit},card:{},media:{height:80,backgroundColor:Ne.a[500]},profile:{paddingTop:5,paddingBottom:5,height:100},link:{color:Ne.a[400]},names:{paddingLeft:5,paddingTop:5},username:{fontSize:18},atname:{fontSize:14},userName:{cursor:"pointer",marginTop:-53,width:75,height:75,border:"3px solid #ffffff",fontSize:"40px"}}})(Object($.b)("rootStore")(Object($.c)(Et))),vt=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.rootStore.followStore.loadFollowRelation()}},{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},p.a.createElement(Re.a,{container:!0,spacing:24},p.a.createElement(Re.a,{item:!0,xs:12,md:6,lg:3},p.a.createElement(Le,null),p.a.createElement(Pe,null)),p.a.createElement(Re.a,{item:!0,xs:12,md:6,lg:6},p.a.createElement(We,null),p.a.createElement(gt,null)),p.a.createElement(Re.a,{item:!0,xs:12,md:6,lg:3},p.a.createElement(St,this.props.rootStore.profileStore))))}}]),t}(u.Component),Ot=Object(T.withStyles)(function(e){var t;return{main:(t={width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},Object(m.a)(t,e.breakpoints.up(1200+3*e.spacing.unit*2),{width:1200,marginLeft:"auto",marginRight:"auto"}),Object(m.a)(t,"paddingTop",2*e.spacing.unit),t),paper:{padding:2*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"stretch",color:e.palette.text.secondary},card:{maxWidth:345},media:{height:140}}})(Object($.b)("rootStore")(Object($.c)(vt))),jt=a(64),yt=a.n(jt),Ct=a(41),kt=a.n(Ct),_t=a(87),xt=a.n(_t),Nt=a(88),Tt=a.n(Nt),Rt=a(35),It=a.n(Rt),Lt=a(40),Ft=a.n(Lt),Pt=(a(94),a(38)),Mt=a.n(Pt),Ut=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).changeUsername=function(e){a.props.rootStore.loginStore.changeUsername(e.target.value)},a.changePassword=function(e){a.props.rootStore.loginStore.changePassword(e.target.value)},a.changeEmail=function(e){a.props.rootStore.loginStore.changeEmail(e.target.value)},a.submit=function(e){a.props.rootStore.loginStore.login()},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},p.a.createElement(yt.a,null),p.a.createElement(Mt.a,{className:this.props.classes.paper},p.a.createElement(S.a,{className:this.props.classes.avatar},"Hi"),p.a.createElement(O.a,{component:"h1",variant:"h5"},"Login"),p.a.createElement("form",{className:this.props.classes.form},p.a.createElement(kt.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ft.a,{htmlFor:"email"},"Email Address"),p.a.createElement(It.a,{onChange:this.changeEmail,id:"email",name:"email",type:"email",autoComplete:"email",autoFocus:!0})),p.a.createElement(kt.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ft.a,{htmlFor:"password"},"Password"),p.a.createElement(It.a,{onChange:this.changePassword,id:"password",name:"password",type:"password",autoComplete:"current-password"})),p.a.createElement(xt.a,{control:p.a.createElement(Tt.a,{value:"remember",color:"primary"}),label:"Remember me"}),p.a.createElement(O.a,null,p.a.createElement(wt.a,{href:"/register",className:"register"},"Don't have an account? Register?")),p.a.createElement(Ue.a,{fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:this.submit,autoFocus:!0},"Log in"))))}}]),t}(u.Component),Bt=Object(T.withStyles)(function(e){return Object(T.createStyles)({main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}})})(Object($.b)("rootStore")(Object($.c)(Ut))),$t=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).changeUsername=function(e){a.props.rootStore.loginStore.changeUsername(e.target.value)},a.changePassword=function(e){a.props.rootStore.loginStore.changePassword(e.target.value)},a.changeEmail=function(e){a.props.rootStore.loginStore.changeEmail(e.target.value)},a.register=function(){a.props.rootStore.loginStore.register()},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},p.a.createElement(yt.a,null),p.a.createElement(Mt.a,{className:this.props.classes.paper},p.a.createElement(S.a,{className:this.props.classes.avatar},"Hi"),p.a.createElement(O.a,{component:"h1",variant:"h5"},"Register"),p.a.createElement("form",{className:this.props.classes.form},p.a.createElement(kt.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ft.a,{htmlFor:"username"},"Username"),p.a.createElement(It.a,{onChange:this.changeUsername,id:"username",name:"username",type:"text",autoComplete:"current-username",autoFocus:!0})),p.a.createElement(kt.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ft.a,{htmlFor:"email"},"Email Address"),p.a.createElement(It.a,{onChange:this.changeEmail,id:"email",name:"email",type:"email",autoComplete:"email"})),p.a.createElement(kt.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ft.a,{htmlFor:"password"},"Password"),p.a.createElement(It.a,{onChange:this.changePassword,id:"password",name:"password",type:"password",autoComplete:"current-password"})),p.a.createElement(Ue.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.register},"Register"))))}}]),t}(u.Component),At=Object(T.withStyles)(function(e){return Object(T.createStyles)({main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.light},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}})})(Object($.b)("rootStore")(Object($.c)($t))),Wt=a(95),Dt=a(414),zt=a(416),Jt=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(Wt.a)(t,["component"]),o=this.props.rootStore.loginStore.isLoggedIn;return p.a.createElement(Dt.a,Object.assign({},n,{render:function(t){return o?p.a.createElement(a,e.props):p.a.createElement(zt.a,{to:"/login"})}}))}}]),t}(u.Component),Ht=Object($.b)("rootStore")(Object($.c)(Jt)),qt=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(Wt.a)(t,["component"]),o=this.props.rootStore.loginStore.isLoggedIn;return p.a.createElement(Dt.a,Object.assign({},n,{render:function(t){return o?p.a.createElement(zt.a,{to:"/home"}):p.a.createElement(a,e.props)}}))}}]),t}(u.Component),Xt=Object($.b)("rootStore")(Object($.c)(qt)),Vt=a(415),Gt=a(417),Kt=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.rootStore.searchStore.search(),this.props.rootStore.followStore.loadFollowRelation()}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:this.props.classes.container},this.props.rootStore.searchStore.results.map(function(t){return p.a.createElement(dt,{key:t._id.$oid,post:t,className:e.props.classes.tweet})}))}}]),t}(u.Component),Qt=Object(T.withStyles)(function(e){var t;return{main:(t={width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},Object(m.a)(t,e.breakpoints.up(1200+3*e.spacing.unit*2),{width:1200,marginLeft:"auto",marginRight:"auto"}),Object(m.a)(t,"paddingTop",2*e.spacing.unit),t),paper:{padding:2*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"stretch",color:e.palette.text.secondary},card:{maxWidth:345},media:{height:140},container:{marginLeft:"50%","max-width":590,transform:"translateX(-50%)"}}})(Object($.b)("rootStore")(Object($.c)(Kt))),Yt=a(89),Zt=a.n(Yt),ea=a(66),ta=a.n(ea);function aa(e){return p.a.createElement(O.a,{component:"div",style:{padding:24}},e.children)}var na=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={cardValue:0},a.handleChange=function(e,t){a.setState({cardValue:t})},a.search=function(e){a.props.rootStore.userStore.loadProfile(e),a.props.rootStore.userStore.getTweet(e,{start:0,count:20}),a.props.rootStore.userStore.getFollowers(e,{start:0,count:20}),a.props.rootStore.userStore.getFollowings(e,{start:0,count:20})},a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.search(this.props.match.params.id),this.props.rootStore.followStore.loadFollowRelation()}},{key:"render",value:function(){var e,t=this.props.classes,a=this.state.cardValue,n=this.props.rootStore.userStore.tweetList,o=this.props.rootStore.userStore.followers,r=this.props.rootStore.userStore.followings;return p.a.createElement("div",{className:t.root},p.a.createElement(ve.a,{className:this.props.classes.card},p.a.createElement(je.a,null,p.a.createElement(_e.a,{className:this.props.classes.media,image:"",title:"Contemplative Reptile"}),p.a.createElement(Ce.a,null,p.a.createElement(Re.a,{container:!0,spacing:0},p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(S.a,{alt:this.props.rootStore.userStore.username,src:"https://material-ui.com/static/images/avatar/1.jpg",className:this.props.classes.bigAvatar}),p.a.createElement(O.a,{variant:"title"},this.props.rootStore.userStore.username),p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"@"," ",this.props.rootStore.userStore.nickname)))))),p.a.createElement("div",{className:t.tabContainer},p.a.createElement(h.a,(e={classes:{root:t.appBarRoot},position:"static"},Object(m.a)(e,"position","sticky"),Object(m.a)(e,"className",t.appBar),e),p.a.createElement(Zt.a,{value:a,onChange:this.handleChange,className:t.tabBar},p.a.createElement(ta.a,{label:p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Tweets"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.userStore.tweets))}),p.a.createElement(ta.a,{label:p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Followers"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.userStore.follower))}),p.a.createElement(ta.a,{label:p.a.createElement(Re.a,{item:!0,xs:4,md:4,lg:4},p.a.createElement(O.a,{gutterBottom:!0,variant:"caption"},"Following"),p.a.createElement(O.a,{variant:"title",className:this.props.classes.link},this.props.rootStore.userStore.following))}))),p.a.createElement("div",{className:t.containers},0===a&&p.a.createElement(aa,null,n.map(function(e){return p.a.createElement(dt,{key:e._id.$oid,post:e})})),1===a&&p.a.createElement(aa,null,p.a.createElement(Re.a,{container:!0,spacing:8},o.map(function(e){return p.a.createElement(Re.a,{item:!0,xs:12,md:6,lg:4},p.a.createElement("div",{className:t.NameCardBox},p.a.createElement(St,{key:e._id.$oid,username:e.name,id:e._id.$oid})))}))),2===a&&p.a.createElement(aa,null,p.a.createElement(Re.a,{container:!0,spacing:8},r.map(function(e){return p.a.createElement(Re.a,{item:!0,xs:12,md:6,lg:4},p.a.createElement("div",{className:t.NameCardBox},p.a.createElement(St,{key:e._id.$oid,username:e.name,id:e._id.$oid})))}))))))}}]),t}(u.Component),oa=Object(W.a)(Object(T.withStyles)(function(e){return{main:{width:"auto",paddingTop:2*e.spacing.unit},card:{height:230,width:"100%"},media:{height:50,color:e.palette.text.secondary},bigAvatar:{marginTop:-53,width:150,height:150,border:"3px solid #ffffff"},infobox:{marginTop:10},link:{color:Ne.a[400]},root:{},appBar:{flexGrow:1,backgroundColor:e.palette.background.paper},tabBar:{marginLeft:"50%",transform:"translateX(-50%)",width:"50%"},containers:{marginLeft:"50%",transform:"translateX(-50%)",width:"50%"},tabContainer:{float:"left",width:"100%",position:"relative",bottom:"25px"},appBarRoot:{"box-shadow":"0px 2px 0px -1px rgba(0,0,0,0.2), 0px 4px 0px 0px rgba(0,0,0,0.14), 0px 1px 0px 0px rgba(0,0,0,0.12)"},NameCardContainer:{width:450},NameCardBox:{marginBottom:10}}})(Object($.b)("rootStore")(Object($.c)(na)))),ra=a(123),ia=a.n(ra),sa=Object(T.createMuiTheme)({palette:{primary:Ne.a,secondary:ia.a},status:{danger:"red"}});o.a.render(p.a.createElement(T.MuiThemeProvider,{theme:sa},p.a.createElement($.a,{rootStore:Ee},p.a.createElement(Vt.a,null,p.a.createElement("div",null,p.a.createElement(J,null),p.a.createElement(Gt.a,null,p.a.createElement(Ht,{exact:!0,path:"/",component:Ot}),p.a.createElement(Xt,{path:"/login",component:Bt}),p.a.createElement(Dt.a,{path:"/register",component:At}),p.a.createElement(Ht,{path:"/home",component:Ot}),p.a.createElement(Dt.a,{path:"/searchResult",component:Qt}),p.a.createElement(Dt.a,{path:"/profile/:id",component:oa})))))),document.getElementById("body")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");H?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):q(t,e)})}}()}},[[231,1,2]]]);
//# sourceMappingURL=main.05616237.chunk.js.map