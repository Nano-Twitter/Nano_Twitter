(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){e.exports=a(294)},294:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),o=a(19),i=a(24),c=a(26),l=a(25),s=a(27),m=a(29),u=a(0),p=a.n(u),h=a(123),g=a.n(h),d=a(124),E=a.n(d),f=a(23),b=a.n(f),w=a(33),v=a.n(w),O=a(30),j=a.n(O),y=a(80),S=a.n(y),C=a(48),k=a.n(C),M=a(34),N=a.n(M),R=a(66),L=a.n(R),A=a(40),I=a(28),P=a(125),x=a.n(P),T=a(126),W=a.n(T),U=a(122),B=a.n(U),F=a(127),q=a.n(F),z=a(81),D=a.n(z),H=a(82),J=a.n(H),_=a(128),X=a.n(_),G=a(16),Q=a(56),$=a.n(Q),K=[{id:1,name:"home",link:"/home"},{id:2,name:"register",link:"/register"}],V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,mobileMoreAnchorEl:null,menuAnchorEl:null},a.logout=function(){a.props.rootStore.loginStore.logout()},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.closeAllMenues=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.handleMenuOpen=function(e){a.setState({menuAnchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({menuAnchorEl:null})},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=e.menuAnchorEl,r=this.props.classes,o=Boolean(t),i=Boolean(a),c=Boolean(n),l=p.a.createElement(L.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.closeAllMenues},p.a.createElement(N.a,{onClick:this.closeAllMenues},"Profile"),p.a.createElement(N.a,{onClick:this.closeAllMenues},"My account"),p.a.createElement(N.a,{onClick:this.logout},"Logout")),s=p.a.createElement(L.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleMenuClose},K.map(function(e){return p.a.createElement(N.a,{component:$.a,key:e.id.toString(),to:e.link},e.name)})),m=p.a.createElement(L.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.closeAllMenues},p.a.createElement(N.a,{onClick:this.handleMobileMenuClose},p.a.createElement(b.a,{color:"inherit"},p.a.createElement(k.a,{badgeContent:4,color:"secondary"},p.a.createElement(D.a,null))),p.a.createElement("p",null,"Messages")),p.a.createElement(N.a,{onClick:this.handleMobileMenuClose},p.a.createElement(b.a,{color:"inherit"},p.a.createElement(k.a,{badgeContent:11,color:"secondary"},p.a.createElement(J.a,null))),p.a.createElement("p",null,"Notifications")),p.a.createElement(N.a,{onClick:this.handleProfileMenuOpen},p.a.createElement(b.a,{color:"inherit"},p.a.createElement(B.a,null)),p.a.createElement("p",null,"Profile")));return p.a.createElement("div",{className:r.root},p.a.createElement(g.a,{position:"static"},p.a.createElement(E.a,null,p.a.createElement(b.a,{onClick:this.handleMenuOpen,className:r.menuButton,color:"inherit","aria-label":"Open drawer"},p.a.createElement(x.a,null)),p.a.createElement(j.a,{className:r.title,variant:"h6",color:"inherit",noWrap:!0},"Nano-Twitter"),p.a.createElement("div",{className:r.search},p.a.createElement("div",{className:r.searchIcon},p.a.createElement(W.a,null)),p.a.createElement(S.a,{placeholder:"Search\u2026",classes:{root:r.inputRoot,input:r.inputInput}})),p.a.createElement("div",{className:r.grow}),p.a.createElement("div",{className:r.sectionDesktop},p.a.createElement(b.a,{color:"inherit"},p.a.createElement(q.a,null)),p.a.createElement(b.a,{color:"inherit"},p.a.createElement(k.a,{badgeContent:4,color:"secondary"},p.a.createElement(D.a,null))),p.a.createElement(b.a,{color:"inherit"},p.a.createElement(k.a,{badgeContent:17,color:"secondary"},p.a.createElement(J.a,null))),p.a.createElement(b.a,{"aria-owns":o?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},p.a.createElement(v.a,{className:this.props.classes.avatar,alt:"Remy Sharp",src:"https://material-ui.com/static/images/avatar/1.jpg"}))),p.a.createElement("div",{className:r.sectionMobile},p.a.createElement(b.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},p.a.createElement(X.a,null))))),s,l,m)}}]),t}(p.a.Component),Y=Object(I.withStyles)(function(e){return Object(I.createStyles)({root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(m.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(m.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(A.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(A.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(m.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(m.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(m.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main}})})(Object(G.b)("rootStore")(Object(G.c)(V))),Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var te=a(6),ae={ip:"",timeout:3e4},ne=a(129),re=a.n(ne),oe=a(57),ie=a.n(oe),ce=re.a.create({baseURL:ae.ip,timeout:ae.timeout,headers:{HTTP_X_REQUESTED_WITH:"XMLHttpRequest"}}),le={signin:function(e){return ce.post("/users/signin",ie.a.stringify(e))},signup:function(e){return ce.post("/users/signup",ie.a.stringify(e))}},se=function e(){var t=this;Object(o.a)(this,e),this.changePassword=function(e){t.password=e},this.changeEmail=function(e){t.email=e},this.login=function(){var e={password:t.password,email:t.email};return le.signin(e).then(function(e){e.message?(localStorage.setItem("isLoggedIn",!0),alert("Login success!"),window.location="/home"):alert(JSON.stringify(e.error))}).catch(function(e){console.log(e)})},this.logout=function(){localStorage.removeItem("isLoggedIn"),t.isLoggedIn=!1,window.location="/login"},this.password="",this.email="",this.isLoggedIn=localStorage.getItem("isLoggedIn")};Object(te.g)(se,{email:te.l,password:te.l,isLoggedIn:te.l,authenticate:te.d,changePassword:te.d,changeEmail:te.d});var me=new se,ue=(a(57),function e(){var t=this;Object(o.a)(this,e),this.changeUsername=function(e){t.username=e},this.changePassword=function(e){t.password=e},this.changeEmail=function(e){t.email=e},this.register=function(){var e={name:t.username,password:t.password,email:t.email};return le.signup(e).then(function(e){e.message?(alert(e.message+" Please log in."),window.location="/login"):alert(JSON.stringify(e.error))}).catch(function(e){console.log(e)})},this.username="",this.password="",this.email=""});Object(te.g)(ue,{username:te.l,email:te.l,password:te.l,changeUsername:te.d,changePassword:te.d,changeEmail:te.d,register:te.d});var pe=new ue,he=new function e(){Object(o.a)(this,e),this.registerStore=pe,this.loginStore=me};var ge=function(){return p.a.createElement("h1",null,"Home")},de=a(62),Ee=a.n(de),fe=a(58),be=a.n(fe),we=a(35),ve=a.n(we),Oe=a(60),je=a.n(Oe),ye=a(61),Se=a.n(ye),Ce=a(37),ke=a.n(Ce),Me=a(36),Ne=a.n(Me),Re=(a(59),a(41)),Le=a.n(Re),Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).changeUsername=function(e){a.props.rootStore.loginStore.changeUsername(e.target.value)},a.changePassword=function(e){a.props.rootStore.loginStore.changePassword(e.target.value)},a.changeEmail=function(e){a.props.rootStore.loginStore.changeEmail(e.target.value)},a.submit=function(e){a.props.rootStore.loginStore.login()},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},p.a.createElement(be.a,null),p.a.createElement(Le.a,{className:this.props.classes.paper},p.a.createElement(v.a,{className:this.props.classes.avatar,alt:"Remy Sharp",src:"https://material-ui.com/static/images/avatar/1.jpg"}),p.a.createElement(j.a,{component:"h1",variant:"h5"},"Login"),p.a.createElement("form",{className:this.props.classes.form},p.a.createElement(ve.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ne.a,{htmlFor:"email"},"Email Address"),p.a.createElement(ke.a,{onChange:this.changeEmail,id:"email",name:"email",type:"email",autoComplete:"email",autoFocus:!0})),p.a.createElement(ve.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ne.a,{htmlFor:"password"},"Password"),p.a.createElement(ke.a,{onChange:this.changePassword,id:"password",name:"password",type:"password",autoComplete:"current-password"})),p.a.createElement(je.a,{control:p.a.createElement(Se.a,{value:"remember",color:"primary"}),label:"Remember me"}),p.a.createElement(j.a,null,p.a.createElement($.a,{href:"/register",className:"register"},"Don't have an account? Register?")),p.a.createElement(Ee.a,{fullWidth:!0,variant:"contained",color:"primary",className:this.props.classes.submit,onClick:this.submit},"Log in"))))}}]),t}(u.Component),Ie=Object(I.withStyles)(function(e){return Object(I.createStyles)({main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}})})(Object(G.b)("rootStore")(Object(G.c)(Ae))),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).changeUsername=function(e){a.props.rootStore.registerStore.changeUsername(e.target.value)},a.changePassword=function(e){a.props.rootStore.registerStore.changePassword(e.target.value)},a.changeEmail=function(e){a.props.rootStore.registerStore.changeEmail(e.target.value)},a.register=function(){a.props.rootStore.registerStore.register()},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return p.a.createElement("main",{className:this.props.classes.main},p.a.createElement(be.a,null),p.a.createElement(Le.a,{className:this.props.classes.paper},p.a.createElement(v.a,{className:this.props.classes.avatar,alt:"Remy Sharp",src:"https://material-ui.com/static/images/avatar/1.jpg"}),p.a.createElement(j.a,{component:"h1",variant:"h5"},"Register"),p.a.createElement("form",{className:this.props.classes.form},p.a.createElement(ve.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ne.a,{htmlFor:"username"},"Username"),p.a.createElement(ke.a,{onChange:this.changeUsername,id:"username",name:"username",type:"text",autoComplete:"current-username",autoFocus:!0})),p.a.createElement(ve.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ne.a,{htmlFor:"email"},"Email Address"),p.a.createElement(ke.a,{onChange:this.changeEmail,id:"email",name:"email",type:"email",autoComplete:"email"})),p.a.createElement(ve.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(Ne.a,{htmlFor:"password"},"Password"),p.a.createElement(ke.a,{onChange:this.changePassword,id:"password",name:"password",type:"password",autoComplete:"current-password"})),p.a.createElement(je.a,{control:p.a.createElement(Se.a,{value:"remember",color:"primary"}),label:"Remember me"}),p.a.createElement(Ee.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.register},"Register"))))}}]),t}(u.Component),xe=Object(I.withStyles)(function(e){return Object(I.createStyles)({main:Object(m.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}})})(Object(G.b)("rootStore")(Object(G.c)(Pe))),Te=a(65),We=a(297),Ue=a(296),Be=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(Te.a)(t,["component"]),r=this.props.rootStore.loginStore.isLoggedIn;return p.a.createElement(We.a,Object.assign({},n,{render:function(t){return console.log(r),r?p.a.createElement(a,e.props):p.a.createElement(Ue.a,{to:"/login"})}}))}}]),t}(u.Component),Fe=Object(G.b)("rootStore")(Object(G.c)(Be)),qe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(Te.a)(t,["component"]),r=this.props.rootStore.loginStore.isLoggedIn;return p.a.createElement(We.a,Object.assign({},n,{render:function(t){return console.log(r),r?p.a.createElement(Ue.a,{to:"/login"}):p.a.createElement(a,e.props)}}))}}]),t}(u.Component),ze=Object(G.b)("rootStore")(Object(G.c)(qe)),De=a(295),He=a(298);r.a.render(p.a.createElement(G.a,{rootStore:he},p.a.createElement(Y,null)),document.getElementById("navbar")),r.a.render(p.a.createElement(G.a,{rootStore:he},p.a.createElement(De.a,null,p.a.createElement("div",null,p.a.createElement(He.a,null,p.a.createElement(Fe,{exact:!0,path:"/",component:ge}),p.a.createElement(ze,{path:"/login",component:Ie}),p.a.createElement(We.a,{path:"/register",component:xe}),"\xed",p.a.createElement(Fe,{path:"/home",component:ge}))))),document.getElementById("body")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Z?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ee(t,e)})}}()}},[[130,1,2]]]);
//# sourceMappingURL=main.6db846d0.chunk.js.map